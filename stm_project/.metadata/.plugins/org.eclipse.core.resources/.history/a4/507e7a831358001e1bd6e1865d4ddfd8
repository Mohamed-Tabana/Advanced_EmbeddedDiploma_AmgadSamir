
#include "STM32F446xx.h"
#include "I2C_int.h"
#include "Utils.h"
#include "ErrType.h"
#include "RTC.h"
uint8_t RTC_prg_Array[7][7]=
{
	{RTC_SECONDS_REGISER_ADDRESS,        00,		}, //RTC_SECONDS;
	{RTC_MINUTES_REGISER_ADDRESS,        00,        }, //RTC_MINUTES;
	{RTC_HOURS_REGISER_ADDRESS  ,        12,        }, //RTC_HOURS;
	{RTC_DAY_REGISER_ADDRESS    ,        THURSDAY,  }, //RTC_DAY;
	{RTC_DATE_REGISER_ADDRESS   ,        21,        }, //RTC_DATE;
	{RTC_MONTH_REGISER_ADDRESS  ,        09,        }, //RTC_MONTH;
	{RTC_YEAR_REGISER_ADDRESS   ,        23         }, //RTC_YEAR;
};

void RTC_Programming(I2C_HandleTypeDef_t* hi2c,DMA_HandleTypeDef_t* copy_eDMAConfig)
{
	I2C_SendDataToSlave_DMA(hi2c, copy_eDMAConfig,RTC_ADDRESS,(uint32_t) 14,RTC_prg_Array);
}
void RTC_Program_Specific_Field(I2C_HandleTypeDef_t* hi2c,DMA_HandleTypeDef_t* copy_eDMAConfig,RTC_Reg_Addresses copy_eReg)
{
	I2C_SendDataToSlave_DMA(hi2c, copy_eDMAConfig,RTC_ADDRESS,(uint32_t)2,RTC_prg_Array[copy_eReg]);
}
void RTC_Get_Data(I2C_HandleTypeDef_t* hi2c,DMA_HandleTypeDef_t* copy_eDMAConfig,uint8_t* copy_pu8ArrData)
{
	//Get Seconds
	I2C_SendDataToSlave_DMA(hi2c, copy_eDMAConfig,RTC_ADDRESS,(uint32_t) 1,RTC_prg_Array[RTC_SECONDS_REGISER_ADDRESS]);

	I2C_SendDataToSlave_DMA(hi2c, copy_eDMAConfig,RTC_ADDRESS,(uint32_t)2,RTC_prg_Array[copy_eReg]);
	void I2C_ReceiveDataFromSlave_DMA(I2C_HandleTypeDef_t* hi2c, DMA_HandleTypeDef_t* copy_eDMAConfig,uint8_t copy_u8SlaveAdd,uint32_t copy_u32DataLength,uint8_t* copy_pu8Data);

}
